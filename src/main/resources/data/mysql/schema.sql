DROP TABLE IF EXISTS MEDIA_TYPE;

CREATE TABLE MEDIA_TYPE (
  MEDIA_TYPE_ID   BIGINT       NOT NULL AUTO_INCREMENT,
  MEDIA_TYPE_NAME VARCHAR(255) NOT NULL,
  PRIMARY KEY (MEDIA_TYPE_ID)
);

ALTER TABLE MEDIA_TYPE ADD CONSTRAINT UK_6p8cm73jy7qvg74kup52qv9rh UNIQUE (MEDIA_TYPE_NAME);

DROP TABLE IF EXISTS MEDIA;

CREATE TABLE MEDIA (
  MEDIA_ID      BIGINT AUTO_INCREMENT NOT NULL,
  MEDIA_BLOB    LONGBLOB              NOT NULL,
  MEDIA_TYPE_ID BIGINT REFERENCES MEDIA_TYPE (MEDIA_TYPE_ID),
  PRIMARY KEY (MEDIA_ID)
);

DROP TABLE IF EXISTS ARTICLE;

CREATE TABLE ARTICLE (
  ARTICLE_ID        BIGINT AUTO_INCREMENT NOT NULL,
  ARTICLE_NAME      VARCHAR(50)           NOT NULL,
  ARTICLE_CONTENT   LONGTEXT              NOT NULL,
  ARTICLE_CREATED   DATETIME              NOT NULL,
  ARTICLE_PUBLISHED INT                   NOT NULL,
  PRIMARY KEY (ARTICLE_ID)
);
